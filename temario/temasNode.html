<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lecciones: Node.js | CodeCraft</title>

    <link rel="stylesheet" href="../css/estilos.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
</head>

<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>

    <header class="main-header">
        <nav class="navbar container">
            <a href="../Index.html" class="logo">
                <span class="nombre">CodeCraft</span>
            </a>
            <div class="course-navigation">
                <a href="../cursos/NodeJS.html" class="btn btn-primary"
                    style="padding: 8px 20px; font-size: 0.9rem;">Volver al Curso</a>
            </div>
        </nav>
    </header>

    <main>
        <section class="container" style="margin-top: 2rem;">
            <div class="lesson-container">

                <div class="slider">
                    <!-- Slide 1 -->
                    <div class="slide active">
                        <h2 class="lesson-title">1. JavaScript fuera del Navegador</h2>
                        <p class="lesson-text">
                            Durante años, JavaScript estuvo atrapado dentro de Chrome y Firefox. En 2009, Ryan Dahl tuvo
                            una idea loca: "Arrancar" el motor V8 de Chrome, envolverlo en C++, y ejecutarlo
                            directamente en el servidor.
                            <br><br>
                            Así nació <strong>Node.js</strong>.
                            <br>
                            No es un nuevo lenguaje. Es un <strong>entorno de ejecución (Runtime)</strong>. Te permite
                            usar el mismo JS que ya sabes para construir servidores, leer archivos del disco duro, y
                            crear APIs.
                        </p>
                    </div>

                    <!-- Slide 2 -->
                    <div class="slide">
                        <h2 class="lesson-title">2. El Event Loop (El Camarero)</h2>
                        <p class="lesson-text">
                            A diferencia de otros (como PHP o Java antiguo) que crean un "hilo" nuevo por cada usuario
                            (lo que consume mucha memoria), Node.js es <strong>Single-Threaded</strong> (un solo hilo).
                            <br><br>
                            <strong>La Analogía del Camarero:</strong>
                            <br>
                            Un solo camarero (Node) atiende 10 mesas. Toma la orden de la mesa 1, se la da a la cocina,
                            y va INMEDIATAMENTE a la mesa 2. No se queda esperando a que el cocinero termine la
                            hamburguesa.
                            <br>
                            Esto lo hace increíblemente rápido para aplicaciones con mucho tráfico (I/O intensivo) como
                            chats o streaming.
                        </p>
                    </div>

                    <!-- Slide 3: QUIZ 1 -->
                    <div class="slide">
                        <h2 class="lesson-title">Evaluación 1: Arquitectura</h2>
                        <div class="quiz-container">
                            <p class="quiz-question">¿Para qué tipo de tareas NO es bueno Node.js?</p>
                            <div class="quiz-options">
                                <div class="option-btn" data-correct="true">Procesamiento pesado de CPU (Cálculos
                                    matemáticos complejos, edición de video). Bloquearía al único camarero.</div>
                                <div class="option-btn" data-correct="false">Aplicaciones de Chat en tiempo real.</div>
                                <div class="option-btn" data-correct="false">APIs REST.</div>
                            </div>
                        </div>
                    </div>

                    <!-- Slide 4 -->
                    <div class="slide">
                        <h2 class="lesson-title">3. NPM: La tienda de legos</h2>
                        <p class="lesson-text">
                            <strong>NPM (Node Package Manager)</strong> es el registro de software más grande del mundo.
                            <br><br>
                            ¿Necesitas encriptar contraseñas? Ya existe un paquete (`bcrypt`). ¿Manejar fechas?
                            (`date-fns`). ¿Conectarte a una base de datos?
                            <br>
                            No reinventes la rueda. Instala piezas y construye tu castillo.
                        <pre><code class="language-bash">npm install express</code></pre>
                        </p>
                    </div>

                    <!-- Slide 5 -->
                    <div class="slide">
                        <h2 class="lesson-title">4. Módulos: CommonJS vs ES Modules</h2>
                        <p class="lesson-text">
                            Node organiza el código en ficheros separados llamados módulos.
                            <br><br>
                            <strong>Antiguo (CommonJS):</strong>
                        <pre><code class="language-javascript">const http = require('http');</code></pre>
                        <strong>Moderno (ES Modules - Lo que usamos hoy):</strong>
                        <pre><code class="language-javascript">import http from 'http';</code></pre>
                        Permite mantener tu código limpio y separado por responsabilidades.
                        </p>
                    </div>

                    <!-- Slide 6 -->
                    <div class="slide">
                        <h2 class="lesson-title">5. Tu primer Servidor HTTP</h2>
                        <p class="lesson-text">
                            Node trae un módulo nativo `http`.
                        <pre><code class="language-javascript">import http from 'http';

const server = http.createServer((req, res) => {
    // req: Request (Lo que pide el usuario)
    // res: Response (Lo que respondemos)
    res.write('¡Hola desde el servidor!');
    res.end();
});

server.listen(3000);
console.log('Servidor corriendo en puerto 3000');</code></pre>
                        Si entras a `localhost:3000` en tu navegador, verás el mensaje. ¡Acabas de crear un backend!
                        </p>
                    </div>

                    <!-- Slide 7: QUIZ 2 -->
                    <div class="slide">
                        <h2 class="lesson-title">Evaluación 2: Servidores</h2>
                        <div class="quiz-container">
                            <p class="quiz-question">¿Qué significa 'listen(3000)'?</p>
                            <div class="quiz-options">
                                <div class="option-btn" data-correct="false">Que el servidor escuche 3000 usuarios a la
                                    vez.</div>
                                <div class="option-btn" data-correct="true">Que el servidor se quede esperando
                                    peticiones en el puerto lógico 3000 de tu computadora.</div>
                            </div>
                        </div>
                    </div>

                    <!-- Slide 8 -->
                    <div class="slide">
                        <h2 class="lesson-title">6. File System (fs)</h2>
                        <p class="lesson-text">
                            En el navegador, JS no puede leer tus archivos por seguridad. En Node, TIENE PODER TOTAL.
                        <pre><code class="language-javascript">import fs from 'fs/promises';

// Leer un archivo de texto
const texto = await fs.readFile('./secreto.txt', 'utf-8');
console.log(texto);</code></pre>
                        Esto es útil para leer configuraciones, procesar imágenes, o crear herramientas de línea de
                        comandos.
                        </p>
                    </div>

                    <!-- Slide 9 -->
                    <div class="slide">
                        <h2 class="lesson-title">7. Express.js: El Framework</h2>
                        <p class="lesson-text">
                            El módulo `http` nativo es muy básico. Para aplicaciones reales, usamos
                            <strong>Express</strong>.
                            <br>
                            Es minimalista, flexible y es el estándar de la industria.
                        <pre><code class="language-javascript">import express from 'express';
const app = express();

app.get('/', (req, res) => {
    res.send('Bienvenidos a mi API con Express');
});

app.listen(3000);</code></pre>
                        Mucho más limpio, ¿verdad?
                        </p>
                    </div>

                    <!-- Slide 10 -->
                    <div class="slide">
                        <h2 class="lesson-title">8. Routing (Rutas)</h2>
                        <p class="lesson-text">
                            Routing es decidir qué código ejecutar según la URL que visita el usuario.
                        <pre><code class="language-javascript">app.get('/usuarios', (req, res) => {
    // Devolver lista de usuarios
});

app.post('/usuarios', (req, res) => {
    // Crear un usuario nuevo
});

app.delete('/usuarios/:id', (req, res) => {
    // Borrar usuario específico
});</code></pre>
                        Esto es la base de una <strong>REST API</strong>.
                        </p>
                    </div>

                    <!-- Slide 11: QUIZ 3 -->
                    <div class="slide">
                        <h2 class="lesson-title">Evaluación 3: Métodos HTTP</h2>
                        <div class="quiz-container">
                            <p class="quiz-question">¿Qué método HTTP se usa convencionalmente para CREAR datos nuevos?
                            </p>
                            <div class="quiz-options">
                                <div class="option-btn" data-correct="false">GET</div>
                                <div class="option-btn" data-correct="true">POST</div>
                                <div class="option-btn" data-correct="false">DELETE</div>
                            </div>
                        </div>
                    </div>

                    <!-- Slide 12 -->
                    <div class="slide">
                        <h2 class="lesson-title">9. Middleware</h2>
                        <div class="video-container">
                            <iframe src="https://www.youtube.com/embed/HkZK5l7d5aM" title="Express Middleware"
                                frameborder="0" allowfullscreen></iframe>
                        </div>
                        <p class="lesson-text">
                            El concepto más poderoso de Express.
                            <br>
                            Son funciones que se ejecutan "en medio" de la petición.
                            <br>
                            <em>Usuario pide datos -> **Middleware (Verifica si está logueado)** -> Código final.</em>
                            <br>
                            Si el middleware dice "No pasa", la petición se detiene ahí.
                        </p>
                    </div>

                    <!-- Slide 13 -->
                    <div class="slide">
                        <h2 class="lesson-title">10. Variables de Entorno (.env)</h2>
                        <p class="lesson-text">
                            <strong>NUNCA</strong> subas contraseñas a GitHub.
                            <br>
                            Usamos un archivo `.env` que se queda en tu servidor y una librería `dotenv` para leerlo.
                        <pre><code class="language-bash">DB_PASSWORD=secreto123
PORT=8080</code></pre>
                        <code>const dbPass = process.env.DB_PASSWORD;</code>
                        </p>
                    </div>

                    <!-- Slide 14 -->
                    <div class="slide">
                        <h2 class="lesson-title">11. Bases de Datos</h2>
                        <p class="lesson-text">
                            Node se lleva bien con todos.
                            <br>
                            <strong>SQL (Postgres, MySQL):</strong> Usamos ORMs como <em>Prisma</em> o
                            <em>Sequelize</em> para interactuar con tablas.
                            <br>
                            <strong>NoSQL (MongoDB):</strong> Usamos <em>Mongoose</em>. Es muy popular con Node (MERN
                            Stack) porque guardas los datos como objetos JSON, que es nativo para JS.
                        </p>
                    </div>

                    <!-- Slide 15: Final -->
                    <div class="slide">
                        <h2 class="lesson-title">¡Backend Desbloqueado!</h2>
                        <p class="lesson-text">
                            Ya sabes crear servidores, APIs y leer archivos.
                            <br><br>
                            Con HTML/CSS/JS haces la cara bonita. Con Node haces el cerebro lógico.
                            <br>
                            Para dominar la interfaz moderna compleja, necesitamos una herramienta más especializada que
                            JS vainilla. Necesitamos <strong>React</strong>.
                        </p>
                    </div>

                </div>

                <div class="slider-controls">
                    <button id="prevBtn" class="btn" style="background: #ccc; color: #333;">Lección Anterior</button>
                    <button id="nextBtn" class="btn btn-primary">Siguiente Lección</button>
                </div>
            </div>
        </section>
    </main>

    <script src="../Js/slider.js"></script>
    <script src="../Js/theme.js"></script>
</body>

</html>